import{R as f}from"./RankingTable40505.js";import{o as g,r as l,q as k,af as w,n as R,ag as y,b as s,e as h,f as x,g as d,h as m,z as B,i as C,j as T}from"./usetoast.esm40505.js";import{n as v,s as N,h as b,e as j}from"./helpers40505.js";import{_ as L}from"./_plugin-vue_export-helper40505.js";import"./api.esm40505.js";import"./utils.esm40505.js";import"./insight40505.js";import"./runtime-dom.esm-bundler40505.js";const E={setup(){g(()=>{v(c,o)});const p=l({icon:"pi pi-home",to:"/dashboard"}),r=l(),c=l([{label:"Ranking"}]),o=k(),_=w(),u=async function(){const n=new Map;r.value.setParams(n);let a=`/insights/download_ranking?year=${n.get("year")}`;n.forEach((e,t)=>{t!="year"&&(a+=`&${t}=${e}`)}),N();try{const e=await y({method:"get",url:a,responseType:"blob"});var i=new Blob([e.data],{type:e.headers["content-type"]});const t=document.createElement("a");t.href=window.URL.createObjectURL(i),t.download="report_ranking.xlsx",t.click(),b()}catch(e){b(),j(_,e)}};return R(async()=>{}),{home:p,items:c,downloadReport:u,rankingTable:r}},components:{RankingTable:f}},V={class:"m-4"},$={class:"flex justify-content-between align-items-center mb-3"},q={class:"flex align-items-start justify-content-between"},I=d("h1",{class:"mb-4 uppercase"},"RANKING",-1);function M(p,r,c,o,_,u){const n=s("Breadcrumb"),a=s("Button"),i=s("RankingTable"),e=s("Card");return h(),x("div",V,[d("div",$,[m(n,{home:o.home,model:o.items,class:"mt-0 p-0"},null,8,["home","model"])]),m(e,null,{content:B(()=>[d("div",q,[I,m(a,{class:"p-button-outlined p-button-secondary",label:"Report",icon:"pi pi-download",onClick:o.downloadReport},null,8,["onClick"])]),o.items?(h(),C(i,{key:0,ref:"rankingTable"},null,512)):T("",!0)]),_:1})])}const F=L(E,[["render",M]]);export{F as default};
