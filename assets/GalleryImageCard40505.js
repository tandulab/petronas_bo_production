import{o as z,r as p,u as B,c as I,ab as D,n as j,b as f,w as E,e as a,i as U,z as k,f as n,g as l,A as d,j as i,C as b,h as _,m as y,af as N,F as C,y as w}from"./usetoast.esm40505.js";import{v as A}from"./runtime-dom.esm-bundler40505.js";import{_ as T}from"./_plugin-vue_export-helper40505.js";import{l as G,i as M,s as P,h as S,a as R,e as Y}from"./helpers40505.js";import{u as H}from"./attachment40505.js";const J={props:{title:String,tmp_events:{},submitForm:Boolean,selectedLang:String},setup(h,o){z(()=>{var r;m.value=[],(r=g.value.language_codes)==null||r.forEach(t=>{m.value.push(t)})});const s=p({}),e=p(!1),x=p(),m=p(),c=B();o.expose({tmp_event:s});const g=I(()=>c.getSelectedCountry),u=function(r){if(h.submitForm)return r==""||r==null?e.value=!0:e.value=!1,e.value};return D(()=>h.selectedLang,(r,t)=>{}),j(async()=>{x.value=h.selectedLang+"",s.value=h.tmp_events}),{tmp_event:s,lang:x,languages:m,validateField:u}}},K={key:0,class:"flex align-items-center justify-content-between"},O={class:"mb-2"},Q={key:1,class:"formgrid grid col-10 px-0"},W={class:"field col-6 flex flex-column"},X={for:"title"},Z={class:"uppercase"},$={key:0,class:"p-error"},ee={key:0,class:"field col-6 flex flex-column"},le={for:"title"},te={class:"uppercase"},ae={key:0,class:"p-error"},oe={key:1,class:"field col-6 flex flex-column"},ne={class:"field col-6 flex flex-column"},se={class:"uppercase"},ie=l("span",{class:"text-sm font-italic"},"Maximum 450 characters",-1),re={key:0,class:"p-error"},ce={key:2,class:"field col-6 flex flex-column"},de={class:"uppercase"},me=l("span",{class:"text-sm font-italic"},"Maximum 450 characters",-1),_e={key:0,class:"p-error"},ge={class:"field col-6 flex flex-column"},ue={class:"uppercase"},ve=l("span",{class:"ql-formats"},[l("button",{class:"ql-bold"}),l("button",{class:"ql-italic"}),l("button",{class:"ql-underline"}),l("button",{class:"ql-link"})],-1),pe={key:0,class:"p-error"},fe={key:3,class:"field col-6 flex flex-column"},he={class:"uppercase"},xe=l("span",{class:"ql-formats"},[l("button",{class:"ql-bold"}),l("button",{class:"ql-italic"}),l("button",{class:"ql-underline"}),l("button",{class:"ql-link"})],-1),be={key:0,class:"p-error"};function ye(h,o,s,e,x,m){const c=f("InputText"),g=f("Textarea"),u=f("Editor"),r=f("Card");return E((a(),U(r,{class:"mt-4"},{content:k(()=>[e.tmp_event.country?(a(),n("div",K,[l("h2",O,d(s.title),1)])):i("",!0),e.languages&&e.tmp_event.translations?(a(),n("div",Q,[l("div",W,[l("label",X,[b("Title* "),l("span",Z,"("+d(e.languages[0])+")",1)]),_(c,{id:"title",type:"text",modelValue:e.tmp_event.translations[e.languages[0]].title,"onUpdate:modelValue":o[0]||(o[0]=t=>e.tmp_event.translations[e.languages[0]].title=t),class:y({"p-invalid":e.validateField(e.tmp_event.translations[e.languages[0]].title)})},null,8,["modelValue","class"]),e.validateField(e.tmp_event.translations[e.languages[0]].title)?(a(),n("small",$,"Campo obbligatorio.")):i("",!0)]),e.languages[1]?(a(),n("div",ee,[l("label",le,[b("Title* "),l("span",te,"("+d(e.languages[1])+")",1)]),_(c,{id:"title",type:"text",modelValue:e.tmp_event.translations[e.languages[1]].title,"onUpdate:modelValue":o[1]||(o[1]=t=>e.tmp_event.translations[e.languages[1]].title=t),class:y({"p-invalid":e.validateField(e.tmp_event.translations[e.languages[1]].title)})},null,8,["modelValue","class"]),e.validateField(e.tmp_event.translations[e.languages[1]].title)?(a(),n("small",ae,"Campo obbligatorio.")):i("",!0)])):(a(),n("div",oe)),l("div",ne,[l("label",null,[b("Short Description* "),l("span",se,"("+d(e.languages[0])+")",1)]),_(g,{modelValue:e.tmp_event.translations[e.languages[0]].short_description,"onUpdate:modelValue":o[2]||(o[2]=t=>e.tmp_event.translations[e.languages[0]].short_description=t),style:{height:"142px"},class:y({"p-invalid":e.validateField(e.tmp_event.translations[e.languages[0]].short_description)}),maxlength:"450"},null,8,["modelValue","class"]),ie,e.validateField(e.tmp_event.translations[e.languages[0]].short_description)?(a(),n("small",re,"Campo obbligatorio.")):i("",!0)]),e.languages[1]?(a(),n("div",ce,[l("label",null,[b("Short Description* "),l("span",de,"("+d(e.languages[1])+")",1)]),_(g,{modelValue:e.tmp_event.translations[e.languages[1]].short_description,"onUpdate:modelValue":o[3]||(o[3]=t=>e.tmp_event.translations[e.languages[1]].short_description=t),style:{height:"142px"},class:y({"p-invalid":e.validateField(e.tmp_event.translations[e.languages[1]].short_description)}),maxlength:"450"},null,8,["modelValue","class"]),me,e.validateField(e.tmp_event.translations[e.languages[1]].short_description)?(a(),n("small",_e,"Campo obbligatorio.")):i("",!0)])):i("",!0),l("div",ge,[l("label",null,[b("Description* "),l("span",ue,"("+d(e.languages[0])+")",1)]),_(u,{modelValue:e.tmp_event.translations[e.languages[0]].description,"onUpdate:modelValue":o[4]||(o[4]=t=>e.tmp_event.translations[e.languages[0]].description=t),editorStyle:"height: 100px",class:y({"p-invalid":e.validateField(e.tmp_event.translations[e.languages[0]].description)})},{toolbar:k(()=>[ve]),_:1},8,["modelValue","class"]),e.validateField(e.tmp_event.translations[e.languages[0]].description)?(a(),n("small",pe,"Campo obbligatorio.")):i("",!0)]),e.languages[1]?(a(),n("div",fe,[l("label",null,[b("Description* "),l("span",he,"("+d(e.languages[1])+")",1)]),_(u,{modelValue:e.tmp_event.translations[e.languages[1]].description,"onUpdate:modelValue":o[5]||(o[5]=t=>e.tmp_event.translations[e.languages[1]].description=t),editorStyle:"height: 100px",class:y({"p-invalid":e.validateField(e.tmp_event.translations[e.languages[1]].description)})},{toolbar:k(()=>[xe]),_:1},8,["modelValue","class"]),e.validateField(e.tmp_event.translations[e.languages[1]].description)?(a(),n("small",be,"Campo obbligatorio.")):i("",!0)])):i("",!0)])):i("",!0)]),_:1},512)),[[A,e.tmp_event.country&&e.languages&&e.languages[0]]])}const Ze=T(J,[["render",ye]]),ke={props:{title:String,videoUrl:Boolean},setup(h,o){const s=p(),e=H(),x=N(),m=p(),c=p(),g=p(),u=v=>{m.value=v.files,s.value||(s.value=[])},r=(v,L)=>{v&&(P(),e.deleteAttachment(v).then(()=>{S(),R(x,{message:"File deleted correctly.",title:""}),t(L)}).catch(q=>{S(),Y(x,q)}))},t=v=>{s.value.splice(v,1),s.value.length==0&&(s.value=null),c.value.files=[]},F=v=>{m.value.splice(v,1)},V=()=>s.value&&s.value.length>0?10-s.value.length:10;return o.expose({tmp_gallery:s,files:m,fileUpload:c,folder_url:g}),{tmp_gallery:s,files:m,fileUpload:c,folder_url:g,onSelectedFiles:u,deleteImage:r,formatSize:G,deleteGalleryImage:t,deleteFile:F,checkFileLimit:V,getFileName:M}}},Fe={class:"flex align-items-center justify-content-between"},Ve={class:"mb-4"},Ce={class:"flex col-10"},we={class:"col-6 flex-column p-0"},Se={key:0},Ue=l("h4",{class:"mb-1 mt-0"},"Pending",-1),Te={class:"flex flex-wrap"},Le={class:"flex align-items-center"},qe=["alt","src"],ze={class:"flex flex-column ml-2",style:{"font-size":"12px"}},Be={class:"mb-1"},Ie={key:0,class:"mb-1 mt-3"},De={class:"flex flex-wrap"},je={class:"flex align-items-center"},Ee=["src"],Ne={class:"flex flex-column ml-2",style:{"font-size":"12px"}},Ae={key:0,class:"text-center"},Ge=l("b",null,"Drag and drop files to here to upload.",-1),Me=l("p",{class:"text-xs"},"(You can upload a maximum of 10 images)",-1),Pe=[Ge,Me],Re={key:0,class:"ml-4 col-5"},Ye={class:"field"},He=l("label",{for:"folder_url"},"Folder Url",-1);function Je(h,o,s,e,x,m){const c=f("Button"),g=f("FileUpload"),u=f("InputText"),r=f("Card");return a(),U(r,{class:"mt-4"},{content:k(()=>[l("div",Fe,[l("h2",Ve,d(s.title),1)]),l("div",Ce,[l("div",we,[_(g,{name:"file",url:"https://www.primefaces.org/upload.php",multiple:!0,accept:"image/*",maxFileSize:2e6,id:"logo",modelValue:e.tmp_gallery,"onUpdate:modelValue":o[0]||(o[0]=t=>e.tmp_gallery=t),customUpload:!0,onSelect:e.onSelectedFiles,fileLimit:e.checkFileLimit(),ref:"fileUpload",disabled:e.tmp_gallery&&e.tmp_gallery.length>=10},{content:k(()=>[e.files&&e.files.length>0?(a(),n("div",Se,[Ue,l("div",Te,[(a(!0),n(C,null,w(e.files,(t,F)=>(a(),n("div",{key:t.name+t.type+t.size,class:"card m-0 flex border-1 surface-border align-items-center justify-content-between pl-4 pr-3 py-3 w-full my-2"},[l("div",Le,[l("img",{role:"presentation",alt:t.name,src:t.objectURL,width:"50",class:"shadow-2"},null,8,qe),l("div",ze,[l("div",Be,d(t.name),1),l("div",null,d(e.formatSize(t.size)),1)])]),_(c,{icon:"pi pi-times",onClick:V=>e.deleteFile(F),class:"p-button p-component p-button-icon-only p-fileupload-file-remove p-button-text p-button-danger p-button-rounded"},null,8,["onClick"])]))),128))])])):i("",!0),e.tmp_gallery&&e.tmp_gallery[0]&&e.tmp_gallery[0].id?(a(),n(C,{key:1},[e.files&&e.files.length>0?(a(),n("h4",Ie," Completed ")):i("",!0),l("div",De,[(a(!0),n(C,null,w(e.tmp_gallery,(t,F)=>(a(),n("div",{key:t.id,class:"card m-0 flex border-1 surface-border align-items-center justify-content-between pl-4 pr-3 py-3 w-full my-2"},[l("div",je,[l("img",{role:"presentation",src:t.url,width:"50",class:"shadow-2"},null,8,Ee),l("div",Ne,d(e.getFileName(t.url)),1)]),_(c,{icon:"pi pi-times",onClick:V=>e.deleteImage(t.id,F),class:"p-button p-component p-button-icon-only p-fileupload-file-remove p-button-text p-button-danger p-button-rounded"},null,8,["onClick"])]))),128))])],64)):i("",!0)]),empty:k(()=>[e.tmp_gallery?i("",!0):(a(),n("div",Ae,Pe))]),_:1},8,["modelValue","onSelect","fileLimit","disabled"])]),s.videoUrl?(a(),n("div",Re,[l("div",Ye,[He,_(u,{type:"text",modelValue:e.folder_url,"onUpdate:modelValue":o[1]||(o[1]=t=>e.folder_url=t),class:"w-full"},null,8,["modelValue"])])])):i("",!0)])]),_:1})}const $e=T(ke,[["render",Je]]);export{Ze as E,$e as G};
