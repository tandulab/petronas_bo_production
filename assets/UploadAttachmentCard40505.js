import{l as B,i as L,s as j,h as w,a as V,e as A}from"./helpers40505.js";import{u as N}from"./attachment40505.js";import{r as p,af as D,b as v,e as l,i as M,z as y,g as o,A as h,h as b,f as n,F as k,y as F,j as u}from"./usetoast.esm40505.js";import{_ as T}from"./_plugin-vue_export-helper40505.js";const E={props:{title:String,videoUrl:Boolean,accept:String},setup(f,d){const s=p(),e=N(),g=D(),c=p(),i=p(),m=p(),x=f.accept?f.accept:"image/*,.pdf,.doc,.xls,.xlsx,.csv",t=a=>{c.value=a.files,s.value||(s.value=[])},r=(a,z)=>{a&&(j(),e.deleteAttachment(a).then(()=>{w(),V(g,{message:"File deleted correctly.",title:""}),_(z)}).catch(I=>{w(),A(g,I)}))},_=a=>{s.value.splice(a,1),s.value.length==0&&(s.value=null)},C=a=>{c.value.splice(a,1)},S=()=>s.value&&s.value.length>0?10-s.value.length:10,U=a=>a.type==="image/jpeg";return d.expose({tmp_attachment:s,files:c,fileUpload:i,folder_url:m}),{tmp_attachment:s,files:c,fileUpload:i,folder_url:m,accept:x,onSelectedFiles:t,deleteImage:r,formatSize:B,deleteGalleryImage:_,deleteFile:C,checkFileLimit:S,checkIsImage:U,getFileName:L}}};const G={class:"flex align-items-center justify-content-between"},P={class:"mb-4"},R={class:"flex col-10"},q={key:0},H=o("h4",{class:"mb-1 mt-0"},"Pending",-1),J={class:"flex flex-wrap"},K={class:"flex align-items-center"},O=["alt","src"],Q={key:1,class:"pi pi-file text-2xl"},W={class:"flex flex-column ml-2",style:{"font-size":"12px"}},X={class:"mb-1"},Y={key:0,class:"mb-1 mt-3"},Z={class:"flex flex-wrap"},$={class:"flex align-items-center"},ee=["src"],te={key:1,class:"pi pi-file text-2xl"},oe={class:"flex flex-column ml-2",style:{"font-size":"12px"}},le={class:"mb-1"},se={key:0,class:"text-center"},ne=o("b",null,"Drag and drop files to here to upload.",-1),ae=o("p",{class:"text-xs"},"(Maximum size 2 MB)",-1),ce=[ne,ae];function ie(f,d,s,e,g,c){const i=v("Button"),m=v("FileUpload"),x=v("Card");return l(),M(x,{class:"mt-4"},{content:y(()=>[o("div",G,[o("h2",P,h(s.title),1)]),o("div",R,[b(m,{name:"file",url:"https://www.primefaces.org/upload.php",multiple:!0,maxFileSize:2e6,id:"logo",modelValue:e.tmp_attachment,"onUpdate:modelValue":d[0]||(d[0]=t=>e.tmp_attachment=t),customUpload:!0,onSelect:e.onSelectedFiles,fileLimit:e.checkFileLimit(),ref:"fileUpload",disabled:e.tmp_attachment&&e.tmp_attachment.length>=10,accept:e.accept},{content:y(()=>[e.files&&e.files.length>0?(l(),n("div",q,[H,o("div",J,[(l(!0),n(k,null,F(e.files,(t,r)=>(l(),n("div",{key:t.name+t.type+t.size,class:"card m-0 flex border-1 surface-border align-items-center justify-content-between pl-4 pr-3 py-3 w-full my-2"},[o("div",K,[e.checkIsImage(t)?(l(),n("img",{key:0,role:"presentation",alt:t.name,src:t.objectURL,width:"50",class:"shadow-2"},null,8,O)):(l(),n("i",Q)),o("div",W,[o("div",X,h(t.name),1),o("div",null,h(e.formatSize(t.size)),1)])]),b(i,{icon:"pi pi-times",onClick:_=>e.deleteFile(r),class:"p-button p-component p-button-icon-only p-fileupload-file-remove p-button-text p-button-danger p-button-rounded"},null,8,["onClick"])]))),128))])])):u("",!0),e.tmp_attachment&&e.tmp_attachment[0]&&e.tmp_attachment[0].id?(l(),n(k,{key:1},[e.files&&e.files.length>0?(l(),n("h4",Y," Completed ")):u("",!0),o("div",Z,[(l(!0),n(k,null,F(e.tmp_attachment,(t,r)=>(l(),n("div",{key:t.id,class:"card m-0 flex border-1 surface-border align-items-center justify-content-between pl-4 pr-3 py-3 w-full my-2"},[o("div",$,[e.checkIsImage(t)?(l(),n("img",{key:0,role:"presentation",src:t.url,width:"50",class:"shadow-2"},null,8,ee)):(l(),n("i",te)),o("div",oe,[o("div",le,h(e.getFileName(t.url)),1)])]),b(i,{icon:"pi pi-times",onClick:_=>e.deleteImage(t.id,r),class:"p-button p-component p-button-icon-only p-fileupload-file-remove p-button-text p-button-danger p-button-rounded"},null,8,["onClick"])]))),128))])],64)):u("",!0)]),empty:y(()=>[e.tmp_attachment?u("",!0):(l(),n("div",se,ce))]),_:1},8,["modelValue","onSelect","fileLimit","disabled","accept"])])]),_:1})}const pe=T(E,[["render",ie]]);export{pe as U};
