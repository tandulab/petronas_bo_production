import{d as _,o as S,af as g,r as f,t as y,a as V,b as r,e as h,f as w,h as n,z as b,g as s,m as C,A as L,j as P}from"./usetoast.esm40505.js";import{u as B,r as k,e as T}from"./index.esm405052.js";import{s as j,h as v,a as x,e as z}from"./helpers40505.js";import{u as N,L as E}from"./sidebar40505.js";import"./country40505.js";import"./product40505.js";import{u as F}from"./user40505.js";import{a as I}from"./runtime-dom.esm-bundler40505.js";import{_ as M}from"./_plugin-vue_export-helper40505.js";const U=_({name:"LoginView",setup(){S(()=>{c.setSidebarVisibility(!1)});const e=F(),o=g(),c=N(),u=f(1),i=y({email:""}),p={email:{required:k,email:T}},a=f(!1),m=B(p,i),l=t=>{a.value=!0,t&&(j(),d().then(()=>{v(),x(o,{message:"We sent you an email with the new temporary password.",title:""}),V.push({name:"login"})}).catch($=>{v(),z(o,$)}))};async function d(){const t={email:i.email};await e.resetPassword(t)}return{formStep:u,formSubmitted:a,v$:m,handleSubmit:l}},components:{LogoPetronas:E}}),W={class:"flex justify-content-center align-items-center h-screen"},q={class:"mt-5 text-center"},A=s("h1",{class:"text-center mb-2"},"Forgot password?",-1),D=s("h2",{class:"font-normal mb-4"},"Welcome! Please enter your email.",-1),R={key:0,class:"p-error w-100"},G={class:"mt-2 text-right w-full mb-3"};function H(e,o,c,u,i,p){const a=r("LogoPetronas"),m=r("InputText"),l=r("Button"),d=r("Card");return h(),w("div",W,[n(d,{class:"p-4",style:{width:"20vw"}},{header:b(()=>[s("div",q,[n(a,{class:"w-7rem"})])]),content:b(()=>[A,D,s("form",{class:"mt-4 flex flex-column",onSubmit:o[1]||(o[1]=I(t=>e.handleSubmit(!e.v$.$invalid),["prevent"]))},[n(m,{id:"email",class:C({"p-invalid":e.v$.email.$invalid&&e.formSubmitted,"w-100":!0,"mb-1":!0}),placeholder:"Email*",modelValue:e.v$.email.$model,"onUpdate:modelValue":o[0]||(o[0]=t=>e.v$.email.$model=t)},null,8,["class","modelValue"]),e.formSubmitted&&e.v$.email.$errors.length>0?(h(),w("label",R,L(e.v$.email.$errors.map(t=>t.$message).join("<br />")),1)):P("",!0),s("div",G,[n(l,{type:"submit",label:"Send",class:"w-full mt-4 capitalize"})])],32)]),_:1})])}const oe=M(U,[["render",H]]);export{oe as default};
