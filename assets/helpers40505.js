import{ai as d,ad as _,p as g}from"./usetoast.esm40505.js";class f{static async updateTranslation(a){const s=a.id;return delete a.id,(await d(`/translations/${s}`,a)).data}}const m=_({id:"translation",state:()=>({translation:{}}),getters:{getTranslation:t=>t.translation},actions:{async updateTranslation(t){await f.updateTranslation(t).then(a=>this.translation=a)}}}),p=g(),F=()=>p.hideLoader(),S=()=>p.showLoader();function h(t,a){t.add({detail:a.message,life:3e3,severity:a.error?"error":"success",summary:a.error?"Errore":a.title})}const x=function(t,a){const s=Object.values(a.data.errors).join(`
`);h(t,{message:s,error:!0})},T=function(t,a,s){a&&typeof a=="object"&&!(a instanceof Date)&&!(a instanceof File)?Object.keys(a).forEach(e=>{T(t,a[e],s?`${s}[${e}]`:e)}):a!=null&&t.append(s,a)},v=function(t,a,s){t&&t.forEach(e=>{s.append(a,e)})},L=function(t,a,s){if(t.value.tmp_audience){const e=t.value.tmp_audience.target_clusters,n=t.value.tmp_audience.target_group_ids,i=t.value.tmp_audience.target_all;a.append(s+"[target_all]",i),e&&e.length>0&&v(e,s+"[target_clusters][]",a),n&&n.length>0&&v(n,s+"[target_group_ids][]",a)}},A=function(t,a){if(t.value){t.value.tmp_audience={},t.value.tmp_audience.target_all=a.value.target_all;const s=a.value.target_clusters,e=a.value.target_group_ids;s&&(t.value.tmp_audience.target_clusters=s),e&&(t.value.tmp_audience.target_group_ids=e)}},M=function(t,a){t.value&&(a.value.image_url&&(t.value.tmp_image.image_url=a.value.image_url),a.value.video_url&&(t.value.tmp_image.video_url=a.value.video_url))},b=function(t,a){t.value&&(a.value.video_url&&(t.value.tmp_video.video_url=a.value.video_url),a.value.video_image_url&&(t.value.tmp_video.video_image_url=a.value.video_image_url))},E=function(t,a){a.value.translations={};for(const s in t.value.translations)a.value.translations[s]={description:t.value.translations[s].description?t.value.translations[s].description.text:null,short_description:t.value.translations[s].short_description?t.value.translations[s].short_description.text:null,preview_description:t.value.translations[s].preview_description?t.value.translations[s].preview_description.text:null,title:t.value.translations[s].title?t.value.translations[s].title.text:null}},k=t=>{if(t===0)return"0 B";const a=1e3,s=3,e=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],n=Math.floor(Math.log(t)/Math.log(a));return parseFloat((t/Math.pow(a,n)).toFixed(s))+" "+e[n]},O=function(t,a){var s,e;for(const n in t.value.translations)u(a.translations[n].description,t.value.translations[n].description.id),a.translations[n].short_description&&((e=(s=t.value.translations[n])==null?void 0:s.short_description)!=null&&e.id)&&u(a.translations[n].short_description,t.value.translations[n].short_description.id),a.translations[n].title&&t.value.translations[n].title.id&&u(a.translations[n].title,t.value.translations[n].title.id)},u=async function(t,a){const s=m();if(!a)return;const e={id:a,text:t};await s.updateTranslation(e).catch(n=>{})},B=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},U=function(t,a){let s="";const e=a.params.year,n=+a.params.quarter,i=a.params.user_id,l=a.params.company,c=a.params.user_name,o=a.params.cluster+"";let r="";a.name=="ranking"?r="sub-ranking":r="ranking",n==0?s="YEAR":s="Q"+n,t.value.push({label:B(o),to:"/"+r+"/"+e+"/"+o+"/"+n}),t.value.push({label:s,to:"/"+r+"/"+e+"/"+o+"/"+n}),i&&l&&t.value.push({label:l+"",to:"/"+r+"/"+e+"/"+o+"/"+n+"/"+i+"/"+l}),c&&t.value.push({label:c+""})},q=t=>decodeURI(t.substring(t.lastIndexOf("/")+1)),y=t=>t.toLocaleString(void 0,{minimumFractionDigits:2});export{h as a,T as b,L as c,E as d,x as e,A as f,M as g,F as h,q as i,v as j,b as k,k as l,u as m,U as n,y as o,S as s,O as u};
