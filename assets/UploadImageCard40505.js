import{i as w,s as C,h as x,a as U,e as V}from"./helpers40505.js";import{u as S}from"./attachment40505.js";import{r as v,af as k,b as n,e as m,i as B,z as u,g as t,A as y,m as F,h as g,f,j as h}from"./usetoast.esm40505.js";import{_ as I}from"./_plugin-vue_export-helper40505.js";const T={props:{title:String,videoUrl:Boolean,dynamicClass:String},setup(c,a){const o=v({}),e=S(),r=k(),d=v(),_=c.dynamicClass?c.dynamicClass:"col-6",p=l=>{o.value.image_url={},o.value.image=l.files[0]},s=async l=>{l&&(C(),await e.deleteAttachment(l).then(()=>{x(),U(r,{message:"File deleted correctly.",title:""}),i()}).catch(b=>{x(),V(r,b)}))},i=()=>{o.value.image=null,o.value.image_url=null,d.value.files=[]};return a.expose({tmp_image:o,deleteImage:s}),{tmp_image:o,fileUpload:d,dynamicCl:_,deleteTmpImage:i,onSelectedFiles:p,deleteImage:s,getFileName:w}}},z={class:"flex align-items-center justify-content-between"},N={class:"mb-4"},j={class:"flex"},A={key:0,class:"flex flex-wrap"},L={class:"card m-0 flex border-1 surface-border align-items-center justify-content-between pl-4 pr-3 py-3 w-full my-2"},D={class:"flex align-items-center"},M=["src"],R={class:"flex flex-column ml-2",style:{"font-size":"12px"}},E={key:0,class:"text-center"},Y=t("b",null,"Drag and drop file to here to upload.",-1),q=t("p",{class:"text-xs"},"(Maximum size 2 MB, 1000x1000px)",-1),G=[Y,q],H={key:0,class:"ml-4 col-5"},J={class:"field"},K=t("label",{for:"video_url"},"Video Url (YouTube, Vimeo)",-1);function O(c,a,o,e,r,d){const _=n("Button"),p=n("FileUpload"),s=n("InputText"),i=n("Card");return m(),B(i,{class:"h-full"},{content:u(()=>[t("div",z,[t("h2",N,y(o.title),1)]),t("div",j,[t("div",{class:F(["flex-column p-0",e.dynamicCl])},[g(p,{name:"file",url:"https://www.primefaces.org/upload.php",multiple:!1,accept:"image/*",maxFileSize:2e6,id:"logo",modelValue:e.tmp_image.image,"onUpdate:modelValue":a[1]||(a[1]=l=>e.tmp_image.image=l),customUpload:!0,onSelect:e.onSelectedFiles,onRemove:e.deleteTmpImage,fileLimit:1,ref:"fileUpload"},{content:u(()=>[e.tmp_image.image_url&&e.tmp_image.image_url.url?(m(),f("div",A,[t("div",L,[t("div",D,[t("img",{role:"presentation",src:e.tmp_image.image_url.url,width:"50",class:"shadow-2"},null,8,M),t("div",R,y(e.getFileName(e.tmp_image.image_url.url)),1)]),g(_,{icon:"pi pi-times",onClick:a[0]||(a[0]=l=>e.deleteImage(e.tmp_image.image_url.id)),class:"p-button p-component p-button-icon-only p-fileupload-file-remove p-button-text p-button-danger p-button-rounded"})])])):h("",!0)]),empty:u(()=>[e.tmp_image.image_url?h("",!0):(m(),f("div",E,G))]),_:1},8,["modelValue","onSelect","onRemove"])],2),o.videoUrl?(m(),f("div",H,[t("div",J,[K,g(s,{type:"text",modelValue:e.tmp_image.video_url,"onUpdate:modelValue":a[2]||(a[2]=l=>e.tmp_image.video_url=l),class:"w-full"},null,8,["modelValue"])])])):h("",!0)])]),_:1})}const Z=I(T,[["render",O]]);export{Z as U};
